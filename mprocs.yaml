procs:
  # Infrastructure
  postgres:
    cwd: .
    shell: "docker compose up postgres"
    autostart: true

  redis:
    cwd: .
    shell: "docker compose up redis"
    autostart: true

  # Core Services
  ledger:
    cwd: .
    shell: "bun cli/main.ts start"
    autostart: true
    
  edge:
    cwd: ./tana-edge
    shell: "cargo run --release"
    autostart: true
    env:
      TANA_LEDGER_URL: "http://localhost:8080"

  # Websites
  landing:
    cwd: ./websites/landing
    shell: "npm i && npm run dev"
    autostart: true
    env:
      NODE_ENV: "development"

  playground:
    cwd: ./websites/playground
    shell: "npm i && npm run dev"
    autostart: true
    env:
      NODE_ENV: "development"

  docs:
    cwd: ./websites/docs
    shell: "npm i && npm run dev"
    autostart: true
    env:
      NODE_ENV: "development"

  # Run any pending transactions
  block:
    shell: "npm run pending"
    autostart: true
